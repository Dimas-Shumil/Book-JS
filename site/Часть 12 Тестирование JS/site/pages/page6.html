<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/sass.css">
    <title>Тестирование</title>
</head>

<body>
    <header class="header">
        <nav class="header__nav">
            <div class="header__nav-title">
                6.Фреймворки для написания тестов
            </div>
            <ul class="header__nav-ul">
                <li><a href="../../index.html"><span class="header__nav-ul_link"></span></a></li>
                <li><a href="page2.html"><span class="header__nav-ul_link"></span></a></li>
                <li><a href="page3.html"><span class="header__nav-ul_link"></span></a></li>
                <li><a href="page4.html"><span class="header__nav-ul_link"></span></a></li>
                <li><a href="page5.html"><span class="header__nav-ul_link"></span></a></li>
                <li><a href="#"><span class="header__nav-ul_link"></span></a></li>
                <li><a href="page7.html"><span class="header__nav-ul_link"></span></a></li>
                <li><a href="page8.html"><span class="header__nav-ul_link"></span></a></li>
                <li><a href="page9.html"><span class="header__nav-ul_link"></span></a></li>
            </ul>
        </nav>
    </header>
    <hr class="hr">
    </div>
    <div class="main">
        <div class="main__wrapper">
            <div id="mySidenav" class="sidenav">
                <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                <a href="../../../Часть 1 Введение в JavScript/index.html" target="_blank"> Часть 1 Введение в
                    JavScript</a>
                <a href="../../../Часть 2 Введение в JavaScript/index.html" target="_blank">Часть 2 Введение в
                    JavaScript</a>
                <a href="../../../Часть 3 Введение в JavaScript/index.html" target="_blank">Часть 3 Введение в
                    JavaScript</a>
                <a href="../../../Часть 4 Функции JavaScript/index.html" target="_blank">Часть 4 Функции JavaScript</a>
                <a href="../../../часть 5 Функции и объекты JavaScript/index.html" target="_blank">часть 5 Функции и
                    объекты JavaScript</a>
                <a href="../../../часть 6 JavaScript  Объекты/index.html" target="_blank">часть 6 JavaScript Объекты</a>
                <a href="../../../Часть 7 JavaScript DOM/index.html" target="_blank">Часть 7 JavaScript DOM</a>
                <a href="../../../Часть 8 Бонус Ассинхронное программирование JavaScript/index.html"
                    target="_blank">Часть 8 Бонус Ассинхронное программирование JavaScript</a>
                <a href="../../../Часть 9 Бонус DOM/index.html" target="_blank">Часть 9 Бонус DOM</a>
                <a href="../../../Часть 10 AJAX/index.html">Часть 10 AJAX</a>
                <a href="../../../Часть11 API браузера/index.html" target="_blank">Часть11 API браузера</a>
                <a href="#">Часть 12 Тестирование JS</a>
            </div>
            <span class="sidenav__btn" onclick="openNav()">&#9776;</span>
            <div class="main__wrapper-conteiner">
                <figure>
                    <img src="../images/m16_frameworks.svg" width="45%" alt="">
                </figure>
                <p>Как вы уже поняли, есть различные уровни и виды тестирования, и соответственно, для каждого из них
                    есть свои инструменты.</p>
                <p>Одним из таких инструментов являются фреймворки. Вспомним, какую функцию они выполняют:</p>
                <div class="main__wrapper-border_green">
                    <p><span class="green"> Фреймворк</span> — это программное обеспечение, которое упрощает создание и
                        поддержку технически сложных или нагруженных проектов, а также помогает в решении определенных
                        задач. Фреймворк, как правило, содержит только базовые программные модули, а все специфичные для
                        проекта компоненты реализуются разработчиком на их основе. Тем самым достигается не только
                        высокая скорость разработки, но и большая производительность и надежность решений.</p>
                </div>
                <p>В нашем контексте, фреймворк — это <i>test runner</i>, то есть то, что запускает тесты, а также
                    предоставляет методы для глобального использования вроде "<i>describe</i>", "<i>it</i>",
                    "<i>expect</i>" и другие.</p>
                <p>Автоматизация процессов все прочнее укореняется в нашей жизни. Как результат возрастающего спроса на
                    автоматизацию появились JavaScript-фреймворки для разных целей. Некоторые больше подходят для
                    юнит-тестинга, некоторые для End-to-End.</p>
                <p>Нам интересно именно unit-тестирование, поэтому рассмотрим инструменты для этих тестов. Также будут
                    приведены некоторые рекомендации по использованию на будущее.</p>
                <hr class="hr">
                <p>Итак, самые популярные и наиболее часто встречающиеся связки инструментов (фреймворк + библиотека,
                    которая расширяет функционал фреймворка собственным API):</p>
                <blockquote>&bull; <i>Mocha</i> + <i>Chai</i> (мока и чай);</blockquote>
                <blockquote>&bull; <i>Karma</i> + <i>Jasmine</i> (карма и жасмин);</blockquote>
                <blockquote>&bull; <i>Jest</i> + <i>Enzyme</i> (джест и энзайм).</blockquote>
                <h3>Mocha + Chai</h3>
                <figure>
                    <img src="../images/m16_mocha_chai.png" width="50%" alt="">
                </figure>
                <p><a href="https://mochajs.org/"><i>MochaJS</i></a> — это JavaScript фреймворк, используемый для
                    автоматического тестирования приложений. Он может использоваться как на стороне сервера JavaScript,
                    так и в браузере.</p>
                <p><a href="https://www.chaijs.com/"><i>ChaiJS</i></a> — это библиотека для node и, как Mocha, Chai
                    может использоваться на стороне сервера или в браузере. Chai может быть использован совместно с
                    любой библиотекой для тестирования.</p>
                <table>
                    <tr>
                        <thead>
                            <tr>
                                <th>Преимущества Mocha</th>
                                <th>Недостатки Mocha</th>
                            </tr>
                        </thead>
                        <tbody>

                            <td>&bull; Гибкое open-source приложение, развитая экосистема;</td>
                            <td>&bull; Не очень хороший инструментарий;</td>
                    </tr>
                    <tr>
                        <td>&bull; Легко поддерживает кодогенераторы;</td>
                        <td>&bull; Не лучшая производительность;</td>
                    </tr>
                    <tr>
                        <td>&bull; Большое количество туториалов и документов в открытом доступе;</td>
                        <td>&bull; Недостаточно полный набор функций для тестирования;</td>
                    </tr>
                    <tr>
                        <td>&bull; Последовательное выполнение тест кейсов с гибким составлением отчетов;</td>
                        <td>&bull; Долгая настройка.</td>
                    </tr>
                    <tr>
                        <td>&bull; Простое сопоставление исключений с соответствующими кейсами.</td>
                        <td> </td>
                    </tr>
                    </tbody>
                </table>
                <p>Часто используется в паре с Chai. Chai расширяет функциональность, предоставляя разработчику
                    assert-методы, например, should. Так же эта библиотека может использоваться с другим фреймворком.
                </p>
                <h3>Karma+ Jasmine</h3>
                <figure>
                    <img src="../images/m16_jasmine_karma.png" width="50%" alt="">
                </figure>
                <p>Эта пара очень часто используется для тестирования Angular-приложений (<a
                        href="https://v17.angular.io/docs"><i>Angular</i></a> — один из фреймворков
                    для создания приложений). Они входят в стандартную сборку angular-cli.</p>
                <p><a href="https://karma-runner.github.io/latest/index.html"><i>Karma</i></a> — это целая среда для
                    тестирования, а <a href="https://jasmine.github.io/"><i>Jasmine</i></a> чаще всего используется для
                    тестирования асинхронного кода, хоть и имеет много других возможностей. Работает на Node.js и
                    составляет точные и гибкие отчеты.</p>
                <table>
                    <thead>
                        <tr>
                            <th>Преимущества Karma</th>
                            <th>Недостатки Karma</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Простая автоматизация тестирования на разных устройствах и браузерах. Можно выполнять
                                сценарии с планшетов, смартфонов и даже headless-браузеров*;</td>
                            <td>сложно настраивать</td>
                        </tr>
                        <tr>
                            <td>Возможность контролировать весь процесс работы напрямую из IDE. Тест запускается сразу
                                после сохранения файла;</td>
                        </tr>
                        <tr>
                            <td>Исходный код находится в открытом доступе;</td>
                        </tr>
                        <tr>
                            <td>Активное комьюнити;</td>
                        </tr>
                        <tr>
                            <td>Поддерживает инструменты CI/CD**.</td>
                        </tr>
                    </tbody>
                </table>
                <hr class="hr">
                <div class="main__wrapper-box_grey">
                    <p>*<i>headless</i> браузер — инструмент, с помощью которого можно тестировать код, проверять
                        качество и соответствие верстке, а не пользоваться им для привычной работы. Отличие от обычного
                        браузера в том, что у него нет UI вообще, все содержимое он отрисовывает в памяти. За счет этого
                        он потребляет меньше памяти.</p>
                    <p>Дополнительно можно почитать <a
                            href="https://habr.com/ru/companies/otus/articles/444248/">здесь</a>.</p>
                </div>
                <div class="main__wrapper-box_grey">
                    <p>**<i>CI/CD</i> — это процесс непрерывной поставки кода. Когда разработчик заканчивает работу над
                        задачей, она тут же попадает в общий репозиторий и тестовый сайт (либо production), то есть этим
                        функционалом могут начинать пользоваться другие члены команды, либо реальные пользователи.</p>
                    <p>Этот процесс удобен и требует только правильной настройки один раз, что в разы сокращает время
                        работы команды над проектом и позволяет не отвлекаться на какие-то мелочи, вроде автоматического
                        запуска тестов после каждого коммита разработчика. Karma поддерживает интеграцию через Jenkins,
                        Semaphore и Travis (это инструменты для настройки CI/CD).</p>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Преимущества Jasmine</th>
                            <th>Недостатки Jasmine</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Cовместимость со всеми JS фреймворками и библиотеками;</td>
                            <td>Долгая настройка;</td>
                        </tr>
                        <tr>
                            <td>Крупное комьюнити с множеством библиотек, туториалов и блог постов;</td>
                            <td>Библиотека для снапшот-тестинга сложна в интеграции.</td>
                        </tr>
                        <tr>
                            <td>Низкий порог вхождения (легко обучиться);</td>
                        </tr>
                        <tr>
                            <td>Удобные шаблоны.</td>
                        </tr>
                    </tbody>
                </table>
                <p>Jasmine хорошо подходит, если у вас масштабный проект с интеграцией большого количества внешних
                    библиотек. Но если вы используете библиотеку <a href="https://ru.legacy.reactjs.org/">React</a> и
                    ваш проект не такой большой, даже несмотря на то, что Jasmine совместим со всеми фреймворками, лучше
                    остановиться на Jest. Особенностью Jasmine является то, что все тесты по умолчанию выполняются
                    последовательно.</p>
                <h3>Jest + enzyme</h3>
                <figure class="figure__row-img">
                    <img src="../images/m16_jest.png" width="25%" alt="">
                    <img src="../images/m16_enzyme.png" width="25%" alt="">
                </figure>
                <p><a href="https://jestjs.io/">Jest</a> был разработан Фейсбуком и используется для тестирования
                    JavaScript кода, особенно React
                    JS-приложений (но также подойдет и для других фреймворков, например <a
                        href="https://v17.angular.io/docs">Angular</a>, <a
                        href="https://ru.vuejs.org/v2/guide/">Vue</a>). Кроме того, Jest
                    можно использовать для тестирования нативного JS-кода.</p>
                <div class="main__wrapper-box_grey">
                    <p>Особенностью является то, что Jest — не только runner, но также и предоставляет asserts (методы
                        для сравнения элемента) и selectors (методы для поиска элемента) из коробки (те может
                        использоваться самостоятельно).</p>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Преимущества Jest</th>
                            <th>Недостатки Jest</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Очень простая настройка. Идет в комплекте с mock-объектами и библиотекой методов, с
                                помощью которых можно делать утверждения и сравнения (например, равна ли некая
                                переменная определенному значению). Тест кейсы написаны с BDD подходом (подробнее см. в
                                разделе — Экстремальное программирование. Unit-тесты);</td>
                            <td>Поддерживаются не всеми IDE;</td>
                        </tr>
                        <tr>
                            <td>Хорошая документация;</td>
                            <td>Может быть сложен в освоении;</td>
                        </tr>
                        <tr>
                            <td>Предоставляет надежный инструментарий;</td>
                            <td>Тестирование больших снепшотов** невозможно.</td>
                        </tr>
                        <tr>
                            <td>Возможность проводить регрессионные тесты*;</td>
                        </tr>
                    </tbody>
                </table>
                <div class="main__wrapper-box_grey">
                    <p>*Регрессионные тесты проводятся тогда, когда были внесены изменения в уже существующий функционал
                        и нужно убедиться, что приложение работает корректно.</p>
                    <p>Цель регрессионного тестирования — убедиться, что исправление одних дефектов не влечет
                        возникновение других, и что изменения не создали новых дефектов в уже проверенном коде.</p>
                </div>
                <div class="main__wrapper-box_grey">
                    <p>**О snapshot-тестировании можно прочитать <a
                            href="https://medium.com/@iamsemen/snapshots-%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-react-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9-%D0%B7%D0%B0%D1%87%D0%B5%D0%BC-%D1%8D%D1%82%D0%BE-%D0%BD%D1%83%D0%B6%D0%BD%D0%BE-%D0%B8-%D0%BA%D0%B0%D0%BA-%D1%8D%D1%82%D0%BE-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D1%8C-d458cdd3fda1">здесь</a>.
                    </p>
                </div>
                <p>На изображении выше вы видите логотип еще одной библиотеки — Enzyme, которая была разработана Airbnb
                    и чаще всего используется также для тестирования React-приложений. С ней подробнее стоит
                    познакомиться на этапе разработки приложений с использованием библиотеки React. В данном случае эта
                    связка приведена как популярная комбинация тест-раннера и библиотеки.</p>
                <p>В заключении хотелось бы сказать, что эти фреймворки и библиотеки в основном — узкоспецифичные. Что
                    подходит вам, полностью зависит от особенностей вашего проекта. Нужно понять, нужна ли вам
                    кросс-браузерная поддержка, какие инструменты используются в разработке, какой методологии
                    придерживаетесь и сделать обдуманный выбор. По сути, вы можете использовать любой тест раннер и
                    любую библиотеку, так как они несут в себе разный функционал.</p>
                <div class="main__wrapper-box_pink">
                    <p><b>ВАЖНО</b>: не все библиотеки и фреймворки хорошо комбинируются. Например, комбинация Jest +
                        Chai не
                        имеет смысла, так как Jest внутри себя имеет то, что предоставляет связка Mocha + Chai. Или Jest
                        + Jasmine: Jest написан поверх Jasmine и умеет все то, что предоставляет эта библиотека.
                        Вдобавок ко всему, тест-раннеры и библиотеки зачастую написаны под определенный js-фреймворк /
                        библиотеку, и лучше следовать этим рекомендациям и опираться на опыт большого количества
                        разработчиков. В некоторых фреймворках тестовые раннеры и библиотеки заявлены де-факто,
                        например, Jest для React и Karma+Jasmine для Angular.</p>
                </div>

            </div>

            <!-- кнопки -->
            <div class="main__btn-box">
                <a href="page5.html" class="previous">&laquo; Назад</a>
                <a href="page7.html" class="next">Вперед &raquo;</a>
            </div>
            <div class="main__btn-box-o">
                <a href="page5.html" class="previous round">&#8249;</a>
                <a href="page7.html" class="next round">&#8250;</a>
            </div>
        </div>

        <button onclick="topFunction()" id="myBtn" title="Перейти к началу">вверх</button>

        <script async src="../script/js.js"></script>

        <!-- &lsaquo;&rsaquo;&lsaquo;/&rsaquo;
             &lsaquo;script&rsaquo;&lsaquo;/script&rsaquo; -->
        <!-- <details>
            <summary>Заголовок</summary>
            Здесь располагается скрытый контент, который будет отображен после клика по заголовку.
        </details>
    </div>
</body>

</html>